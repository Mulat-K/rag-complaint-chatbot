# Intelligent Complaint Analysis for Financial Services ğŸ¦

**A RAG-Powered Chatbot to Turn Customer Feedback into Actionable Insights**

---

## ğŸ“– Project Overview

**CrediTrust Financial** is a fast-growing digital finance company serving East African markets. With over 500,000 users, the company receives thousands of customer complaints monthly. Currently, Product Managers and Support teams manually sift through these narratives to find issuesâ€”a slow, reactive process.

This project implements a **Retrieval-Augmented Generation (RAG)** system that transforms raw, unstructured complaint data (from the CFPB dataset) into a strategic asset. It allows internal stakeholders to ask natural language questions (e.g., *"Why are people closing their savings accounts?"*) and receive synthesized, evidence-backed answers instantly.

### ğŸ¯ Key Performance Indicators (KPIs)
1.  **Speed:** Reduce insight generation time from days to minutes.
2.  **Accessibility:** Empower non-technical teams (Compliance, Support) to query data.
3.  **Proactivity:** Shift from reacting to individual complaints to identifying systemic trends.

---

## ğŸ“‚ Project Structure

```text
rag-complaint-chatbot/
â”œâ”€â”€ .vscode/               # VS Code settings
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/               # Place 'complaints.csv' here
â”‚   â””â”€â”€ processed/         # Cleaned CSVs generated by Task 1
â”œâ”€â”€ vector_store/          # Persisted ChromaDB embeddings
â”œâ”€â”€ notebooks/
â”‚   â”œâ”€â”€ 1_eda_and_preprocessing.ipynb  # Task 1: Data Cleaning & EDA
â”‚   â”œâ”€â”€ 2_embedding_indexing.ipynb     # Task 2: Chunking & Vector Store Creation
â”‚   â””â”€â”€ 3_evaluation.ipynb             # Task 3: RAG Logic & Evaluation
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ rag_pipeline.py    # Core RAG logic (Retriever + LLM Chain)
â”œâ”€â”€ app.py                 # Streamlit Chat Interface (Task 4)
â”œâ”€â”€ requirements.txt       # Python dependencies
â””â”€â”€ README.md              # Project documentation
```
## ğŸ› ï¸ Prerequisites & Installation

### 1. Clone the Repository

```bash
git clone <repository-url>
cd rag-complaint-chatbot
```

## 2. Set Up Environment
### It is recommended to use a virtual environment.
```bash
# Create virtual environment
python -m venv venv

# Activate (Windows)
venv\Scripts\activate

# Activate (Mac/Linux)
source venv/bin/activate
```

## 3. Install Dependencies
```bash
pip install -r requirements.txt
```

## 4. API Keys
This project uses the Hugging Face Inference API (free tier available) to access open-source LLMs like Mistral-7B.

Go to Hugging Face Settings.

Create a generic Access Token (Role: Read).

You will need this token to run the application.

## ğŸš€ How to Run the Pipeline
Step 1: Data Preprocessing (Task 1)

Download the Consumer Complaint Database (CSV) from the CFPB or use the provided dataset.

Place the file in data/raw/complaints.csv.

Run the EDA notebook:

```bash
jupyter notebook notebooks/2_embedding_indexing.ipynb
```
Output: ChromaDB index created in vector_store/.

## Step 3: Launch the Chatbot (Task 4)
Start the Streamlit web interface.

```bash
streamlit run app.py
```
The app will open in your browser (usually http://localhost:8501).
Enter your Hugging Face API Token in the sidebar.
Start asking questions!

## ğŸ§  Technical Methodology
# 1. Data Pipeline

Filtering: Focused on 5 categories: Credit Cards, Personal Loans, Savings, Money Transfers.

Cleaning: Removed redactions ("XXXX"), normalized whitespace, and filtered for non-empty narratives.

Chunking: Used RecursiveCharacterTextSplitter (Size: 500 chars, Overlap: 50 chars) to maintain context while fitting into embedding windows.

# 2. Retrieval (The "R" in RAG)

Embeddings: Used sentence-transformers/all-MiniLM-L6-v2. Lightweight (80MB) and optimized for semantic similarity.

Vector DB: ChromaDB for simplicity and local persistence.

Search: Cosine Similarity to find top 5 most relevant chunks for a query.

# 3. Generation (The "G" in RAG)

LLM: Mistral-7B-Instruct-v0.2 (via Hugging Face Hub).

Prompt Engineering: "Use the following retrieved complaint excerpts... If the context doesn't contain the answer, state that you don't have enough information." Reduces hallucinations.

## ğŸ“Š Sample Questions

Try these queries in the application:

"What are the most common complaints regarding Credit Cards?"

"Are customers experiencing issues with mobile money transfers?"

"Do people mention hidden fees in personal loans?"

"Summarize the customer sentiment regarding customer support."

## ğŸ”® Future Improvements
Hybrid Search: Combine keyword search (BM25) with vector search for better accuracy.

Metadata Filtering: Filter by Date or Company before asking questions.

Dashboarding: Visual dashboard showing volume trends alongside chat.

## ğŸ“ License
This project is for educational purposes as part of the CrediTrust Financial AI challenge.

```bash
This is ready to copy into a `README.md` file and will render nicely on GitHub or any Markdown viewer.  

If you want, I can also **add proper badges for Python, Jupyter, Streamlit, and Hugging Face** to make it look more professional. Do you want me to do that?
```